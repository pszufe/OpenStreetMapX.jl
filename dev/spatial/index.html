<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Notes on spatial data · OpenStreetMapX</title><meta name="title" content="Notes on spatial data · OpenStreetMapX"/><meta property="og:title" content="Notes on spatial data · OpenStreetMapX"/><meta property="twitter:title" content="Notes on spatial data · OpenStreetMapX"/><meta name="description" content="Documentation for OpenStreetMapX."/><meta property="og:description" content="Documentation for OpenStreetMapX."/><meta property="twitter:description" content="Documentation for OpenStreetMapX."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">OpenStreetMapX</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">OpenStreetMapX.jl</a></li><li class="is-active"><a class="tocitem" href>Notes on spatial data</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Notes on spatial data</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Notes on spatial data</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/pszufe/OpenStreetMapX.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/pszufe/OpenStreetMapX.jl/blob/master/docs/src/spatial.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Notes-on-spatial-data"><a class="docs-heading-anchor" href="#Notes-on-spatial-data">Notes on spatial data</a><a id="Notes-on-spatial-data-1"></a><a class="docs-heading-anchor-permalink" href="#Notes-on-spatial-data" title="Permalink"></a></h1><p>Using the the library makes basic understanding of spatial data. The following <a href="https://en.wikipedia.org/wiki/Geographic_coordinate_system">geographics coordinate systems</a> are supported:</p><ul><li>Latitude-Longitude-Altitude (LLA)</li><li>Earth-centered, Earth-fixed (ECEF)</li><li>East, North, Up (ENU)</li></ul><p>The <code>LLA</code> node is the standard way to represent locations. The latitude is the angle between the equatorial plane and the straight line that passes through that point and through (or close to) the center of the Earth. The longitude is the angle east or west of a reference meridian to another meridian that passes through that point. The altitude is the height of a point in relation to sea level or ground level.</p><p>The <code>ECEF</code> and <code>ENU</code> modes uses a distance (measured in meters) from a reference point. The <code>ECEF</code> mode is a cartesian spatial reference system that represents locations in the vicinity of the Earth as X, Y, and Z measurements from its point of origin. The ECEF that is used for the Global Positioning System (GPS) is the geocentric <em>WGS 84</em>, which currently includes its own ellipsoid definition. The <code>ENU</code> mode is far more intuitive and practical than ECEF or Geodetic coordinates. The local ENU coordinates are formed from a plane tangent to the Earth&#39;s surface fixed to a specific location.</p><p>To better understand those modes have a look at the Wikipedia pictures below:</p><h3 id="Earth-centered,-Earth-fixed-(ECEF)"><a class="docs-heading-anchor" href="#Earth-centered,-Earth-fixed-(ECEF)">Earth-centered, Earth-fixed (ECEF)</a><a id="Earth-centered,-Earth-fixed-(ECEF)-1"></a><a class="docs-heading-anchor-permalink" href="#Earth-centered,-Earth-fixed-(ECEF)" title="Permalink"></a></h3><p>The point (0,0,0) denotes the centre of the Earth (hence the name &#39;Earth-Centred&#39;) and the system rotates in solidarity with the Earth. The X-Y plane is coincident with the equatorial plane with the respective versors pointing in the directions of longitude 0° and 90°, while the Z-axis orthogonal to this plane points in the direction of the North Pole. The X,Y,Z coordinates are represented in metres. ECEF coordinates are used in the GPS positioning system, as they are considered to be the conventional earth reference system.</p><p><a href="https://en.wikipedia.org/wiki/ECEF"><img src="https://upload.wikimedia.org/wikipedia/commons/8/88/Ecef.png &quot;ECEF&quot;" alt="ECEF"/></a></p><h3 id="East,-North,-Up-(ENU)"><a class="docs-heading-anchor" href="#East,-North,-Up-(ENU)">East, North, Up (ENU)</a><a id="East,-North,-Up-(ENU)-1"></a><a class="docs-heading-anchor-permalink" href="#East,-North,-Up-(ENU)" title="Permalink"></a></h3><p>These references are location-dependent. For movements across the globe, such as air or sea navigation, the references are defined as tangents to the lines of geographical coordinates:</p><ul><li>East-west axis, that is tangent to parallels,</li><li>North-south axis, that is tangent to meridians, and</li><li>Up-down axis in the direction normal to the oblate spheroid used as Earth&#39;s ellipsoid, which generally does not pass through the center of the Earth.</li></ul><p><a href="https://en.wikipedia.org/wiki/Local_tangent_plane_coordinates"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/ECEF_ENU_Longitude_Latitude_relationships.svg/800px-ECEF_ENU_Longitude_Latitude_relationships.svg.png &quot;ENU&quot;" alt="ENU"/></a></p><p>In this library, any point can be created using <code>LLA</code> struct: </p><pre><code class="language-julia hljs">fields_institute_lla = LLA(43.658813, -79.397574, 0.0)</code></pre><pre><code class="nohighlight hljs">LLA(43.658813, -79.397574, 0.0)</code></pre><h3 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h3><p><a href="https://en.wikipedia.org/wiki/Geographic_coordinate_conversion">conversion between different coordinates systems</a>.</p><h3 id="Constructors-for-conversions"><a class="docs-heading-anchor" href="#Constructors-for-conversions">Constructors for conversions</a><a id="Constructors-for-conversions-1"></a><a class="docs-heading-anchor-permalink" href="#Constructors-for-conversions" title="Permalink"></a></h3><pre><code class="language-julia hljs">    # From LLA to ECEF
    ECEF(lla::LLA, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ECEF to LLA
    LLA(ecef::ECEF, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ECEF with LLA reference point to ENU
    ENU(ecef::ECEF, lla_ref::LLA, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ECEF with Bound reference point to ENU
    ENU(ecef::ECEF, bounds::Bounds{LLA}, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ENU with LLA reference point to ECEF
    ECEF(enu::ENU, lla_ref::LLA, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ENU with Bound reference point to ECEF
    ECEF(enu::ENU, bounds::Bounds{LLA}, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From LLA with LLA reference point to ENU
    ENU(lla::LLA, lla_ref::LLA, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From LLA with Bound reference point to ENU
    ENU(lla::LLA, bounds::Bounds{LLA}, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ENU with LLA reference point to LLA
    LLA(enu::ENU, lla_ref::LLA, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ENU with Bound reference point to LLA
    LLA(enu::ENU, bounds::Bounds{LLA}, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From LLA&#39;s dict to ECEF&#39;s dict
    ECEF(nodes::Dict{Int,LLA}, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ECEF&#39;s dict to LLA&#39;s dict
    LLA(nodes::Dict{Int,ECEF}, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From LLA or ECEF with LLA reference point to ENU&#39;s dict
    ENU(nodes::Dict{Int,T}, lla_ref::LLA, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84) where T&lt;:Union{LLA,ECEF}

    # From LLA or ECEF with Bound reference point to ENU&#39;s dict
    ENU(nodes::Dict{Int,T}, bounds::Bounds{LLA}, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84) where T&lt;:Union{LLA,ECEF}

    # From ENU&#39;s dict to ECEF&#39;s dict with LLA reference point
    ECEF(nodes::Dict{Int,ENU},lla_ref::LLA , datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ENU&#39;s dict to ECEF&#39;s dict with Bound reference point
    ECEF(nodes::Dict{Int,ENU}, bounds::Bounds{LLA},datum::Ellipsoid = WGS84)

    # From ENU&#39;s dict to LLA&#39;s dict with LLA reference point
    LLA(nodes::Dict{Int,ENU},lla_ref::LLA , datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)

    # From ENU&#39;s dict to LLA&#39;s dict with Bound reference point
    LLA(nodes::Dict{Int,ENU}, bounds::Bounds{LLA}, datum::OpenStreetMapX.Ellipsoid = OpenStreetMapX.WGS84)
</code></pre><p>Once having a point it can be plotted (this requires installation of folium - see the README on the main project page):</p><pre><code class="language-julia hljs">using PyCall
flm = pyimport(&quot;folium&quot;) #note that this requires folium to be installed
m = flm.Map()

flm.CircleMarker((fields_LLA.lat, fields_LLA.lon),
        tooltip=&quot;Here is the Fields Institute&quot;
    ).add_to(m)
MAP_BOUNDS = [ Tuple(m.get_bounds()[1,:].-0.005), Tuple(m.get_bounds()[2,:].+0.005)]


m.fit_bounds(MAP_BOUNDS)

m</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« OpenStreetMapX.jl</a><a class="docs-footer-nextpage" href="../reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Tuesday 31 October 2023 16:43">Tuesday 31 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
